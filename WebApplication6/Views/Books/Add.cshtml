@{
    Layout = "_Layout";
}
<script src="~/lib/signalr/dist/browser/signalr.js"></script>

<div class="login1" style="background-image: url('@Url.Content("~/images/adminbg.jpg")');">


    <div class="login" style="margin:0;font-family: Arapey, serif;margin-top:8%;">

        <form method="post" action="/books/Add" enctype="multipart/form-data" style="margin-top:10px;" class="text-dark">
            <fieldset>
                <label><b>Book name:</b></label>
                <input type="text" id="bname" name="bookname" placeholder="Enter book name">
                <br />
                <label><b>Price:</b></label>
                <input type="text" id="bprice" name="price" placeholder="Enter Price">
                <br />
                <label><b>Description:</b></label>
                <input type="text" id="bdescription" name="description" placeholder="Enter Description">
                <br />
                <label><b>Quanity:</b></label>
                <input type="number" id="bquantity" name="quantity" placeholder="Enter Quanity">
                <br />
                <label><b>Category Id:</b></label>
                <input type="number" id="bCategoryId" name="CategoryId" placeholder="Enter category">
                <br />
                <div class="mt-3">
                    <input type="file" id="bCoverImage" name="CoverImage">
                </div>
                <button type="button" onclick="getbook()">Add</button>
                <br />
                <br />
            </fieldset>

        </form>
    </div>
</div>
<br />
@section Mycss1 {
    <link href="~/css1/LoginStyle.css" rel="stylesheet" />
}


@section Scripts
{

    <script>

        function getbook() {

            var formData = new FormData();
            formData.append("bookname", $('#bname').val());
            formData.append("price", $('#bprice').val());

            formData.append("description", $('#bdescription').val());
            formData.append("quantity", $('#bquantity').val());
            formData.append("CategoryId", $('#bCategoryId').val());
            formData.append("CoverImage", $('#bCoverImage')[0].files[0]);

            addbook(formData)


        }

        function addbook(formData) {
            $.ajax({
                url: '/books/Add',
                method: 'POST',
                data: formData,
                contentType: false,
                processData:false,
                success: function(data) {
                    console.log(data);
                },
                error: function(err) {
                    console.log(err);
                }
            });
        }

    </script>
}